# Schema-Definition f√ºr AMORPH
# Definiert Datenstruktur, Suchverhalten und Perspektiven

# === FELD-REIHENFOLGE ===
# In welcher Reihenfolge werden Felder angezeigt?
reihenfolge:
  - bild
  - name
  - wissenschaftlich
  - essbarkeit
  - bewertung
  - verfuegbarkeit
  - geschmack
  - saison
  - temperatur
  - beliebtheit
  - naehrwerte
  - profil
  - wirkstoffe
  - ernte_stats
  - lebenszyklus
  - standort
  - zubereitung
  - verwechslung
  - beschreibung

# === FELDER ===
# Welche Felder existieren und wie werden sie verarbeitet?
felder:
  # Prim√§re Identifikation
  id:
    typ: number
    versteckt: true
  
  slug:
    typ: string
    versteckt: true
  
  # Hauptfelder
  name:
    typ: string
    label: Name
    suche: 
      gewicht: 100
      exakt: true
  
  wissenschaftlich:
    typ: string
    label: Wissenschaftlicher Name
    suche:
      gewicht: 40
  
  beschreibung:
    typ: string
    label: Beschreibung
    suche:
      gewicht: 20
  
  # Kategorisierung
  essbarkeit:
    typ: tag
    label: Essbarkeit
    suche:
      gewicht: 50
    farben:
      essbar: "#60c090"
      bedingt essbar: "#d0a050"
      nicht essbar: "#808080"
      giftig: "#d06080"
      t√∂dlich: "#a04060"
  
  # Listen
  standort:
    typ: list
    label: Standort
    suche:
      gewicht: 40
  
  verwechslung:
    typ: list
    label: Verwechslung mit
    suche:
      gewicht: 30
  
  # Medien
  bild:
    typ: image
    label: Bild
  
  # Zusatzinfos
  geschmack:
    typ: list
    label: Geschmack
    suche:
      gewicht: 40
  
  zubereitung:
    typ: string
    label: Zubereitung
    suche:
      gewicht: 30
  
  saison:
    typ: tag
    label: Saison
    suche:
      gewicht: 40
  
  # Temperatur: Daten haben {min, max} ‚Üí automatisch range
  temperatur:
    label: Temperatur
    einheit: ¬∞C

  # === FELDER MIT AUTO-ERKANNTEN MORPHS ===
  # Die Morphs werden aus der DATENSTRUKTUR erkannt, nicht hier definiert!
  # 
  # Erkennungsregeln (in pipeline.js detectType):
  # - Objekt mit nur Zahlen ‚Üí pie
  # - Objekt mit min/max ‚Üí range  
  # - Objekt mit min/max/avg ‚Üí stats
  # - Array mit {axis, value} ‚Üí radar
  # - Array mit {label, value} ‚Üí bar
  # - Array mit {date, event} ‚Üí timeline
  # - Zahl 0-100 ganzzahlig ‚Üí progress
  # - Zahl 0-10 mit Dezimal ‚Üí rating
  # - Kurzer String mit Status-Keywords ‚Üí badge

  # Beliebtheit: Zahl 0-100 ‚Üí automatisch progress
  beliebtheit:
    label: Beliebtheit
    einheit: "%"
  
  # Toxizit√§t: Zahl 0-100 ‚Üí automatisch progress
  toxizitaet:
    label: Toxizit√§t
    einheit: "%"
  
  # Medizinischer Wert: Zahl 0-100 ‚Üí automatisch progress
  medizinisch:
    label: Medizinischer Wert
    einheit: "%"
  
  # Forschung: Zahl 0-100 ‚Üí automatisch progress
  forschung:
    label: Forschung
    einheit: "%"
  
  # N√§hrwerte: {Protein: 26, Fett: 8, ...} ‚Üí automatisch pie
  naehrwerte:
    label: Zusammensetzung
    totalLabel: "Anteil"
  
  # Profil: [{axis, value}, ...] ‚Üí automatisch radar
  profil:
    label: Profil
  
  # Wirkstoffe: [{label, value, unit}, ...] ‚Üí automatisch bar
  wirkstoffe:
    label: Wirkstoffe
    maxBalken: 5
  
  # Ernte-Statistik: {min, max, avg, count} ‚Üí automatisch stats
  ernte_stats:
    label: Ernte-Statistik
    einheit: "g"
  
  # Lebenszyklus: [{date, event}, ...] ‚Üí automatisch timeline
  lebenszyklus:
    label: Lebenszyklus
    maxEvents: 6
  
  # Verf√ºgbarkeit: Kurzer Status-String ‚Üí automatisch badge
  verfuegbarkeit:
    label: Status
  
  # Symptome (f√ºr Giftpilze)
  symptome:
    typ: string
    label: Symptome
    suche:
      gewicht: 30

# === SEMANTISCHE SUCHE ===
# Keyword-Mappings f√ºr intelligente Suche
semantik:
  # Essbarkeit-bezogene Suchen
  essbar:
    keywords:
      - essbar
      - essen
      - kann man essen
      - speisepilz
      - genie√übar
      - lecker
      - kochen
      - zubereiten
      - rezept
    feld: essbarkeit
    werte:
      - essbar
      - bedingt essbar
    score: 50
  
  giftig:
    keywords:
      - giftig
      - gift
      - gef√§hrlich
      - t√∂dlich
      - vergiftung
      - symptome
      - nicht essen
      - vorsicht
    feld: essbarkeit
    werte:
      - giftig
      - t√∂dlich
    score: 50
  
  # Standort-bezogene Suchen
  wald:
    keywords:
      - wald
      - w√§lder
      - forst
      - waldpilz
    feld: standort
    enth√§lt:
      - wald
    score: 40
  
  wiese:
    keywords:
      - wiese
      - wiesen
      - gras
      - rasen
      - weide
    feld: standort
    enth√§lt:
      - wiese
      - weide
      - rasen
    score: 40
  
  nadelwald:
    keywords:
      - fichte
      - fichten
      - nadelwald
      - nadel
      - kiefer
      - kiefern
    feld: standort
    enth√§lt:
      - fichte
      - nadel
      - kiefer
    score: 40
  
  laubwald:
    keywords:
      - eiche
      - eichen
      - buche
      - buchen
      - birke
      - birken
      - laubwald
    feld: standort
    enth√§lt:
      - eiche
      - buche
      - birke
    score: 40
  
  # Saison-bezogene Suchen
  fr√ºhling:
    keywords:
      - fr√ºhling
      - fr√ºhjahr
      - m√§rz
      - april
      - mai
    feld: saison
    enth√§lt:
      - m√§rz
      - april
      - mai
    score: 40
  
  sommer:
    keywords:
      - sommer
      - juni
      - juli
      - august
    feld: saison
    enth√§lt:
      - juni
      - juli
      - august
    score: 40
  
  herbst:
    keywords:
      - herbst
      - september
      - oktober
      - november
    feld: saison
    enth√§lt:
      - september
      - oktober
      - november
    score: 40
  
  winter:
    keywords:
      - winter
      - dezember
      - januar
      - februar
    feld: saison
    enth√§lt:
      - dezember
      - januar
      - februar
    score: 40
  
  jetzt:
    keywords:
      - jetzt
      - aktuell
      - gerade
      - heute
      - momentan
    feld: saison
    aktuell: true
    score: 40
  
  # Geschmack-bezogene Suchen
  nussig:
    keywords:
      - nussig
      - nuss
    feld: geschmack
    enth√§lt:
      - nussig
      - nuss
    score: 40
  
  mild:
    keywords:
      - mild
      - sanft
      - leicht
    feld: geschmack
    enth√§lt:
      - mild
    score: 40
  
  w√ºrzig:
    keywords:
      - w√ºrzig
      - w√ºrze
      - intensiv
      - kr√§ftig
      - aromatisch
    feld: geschmack
    enth√§lt:
      - w√ºrzig
      - aromatisch
      - intensiv
    score: 40
  
  # Zubereitung-bezogene Suchen
  braten:
    keywords:
      - braten
      - pfanne
      - anbraten
    feld: zubereitung
    enth√§lt:
      - braten
    score: 40
  
  trocknen:
    keywords:
      - trocknen
      - d√∂rren
      - getrocknet
    feld: zubereitung
    enth√§lt:
      - trocknen
    score: 40
  
  # Verwechslung
  verwechslung:
    keywords:
      - verwechslung
      - verwechseln
      - √§hnlich
      - aussehen
      - doppelg√§nger
    feld: verwechslung
    existiert: true
    score: 30

# === PERSPEKTIVEN ===
# Welche Felder geh√∂ren zu welcher Perspektive?
# Farben: Farb-Grid mit 4 harmonischen T√∂nen pro Perspektive
# farben[0] = Hauptfarbe, [1-3] = Variationen
perspektiven:
  kulinarisch:
    name: Kulinarisch
    symbol: üç≥
    # Warme Gold/Orange-T√∂ne
    farben:
      - "#e8b04a" 
      - "#d4943a"
      - "#f0c866"
      - "#cc7a2a"
    felder:
      - bild
      - name
      - geschmack
      - zubereitung
      - essbarkeit
      - bewertung
      - naehrwerte
      - profil
    # ENTFERNT: morphs-Block - Perspektiven filtern nur, transformieren nicht!
    # Die Darstellung wird aus der DATENSTRUKTUR abgeleitet.
    keywords:
      - essbar
      - essen
      - kochen
      - braten
      - geschmack
      - zubereitung
      - rezept
      - speise
      - w√ºrzig
      - mild
      - nussig
      - umami
      - aroma
  
  sicherheit:
    name: Sicherheit
    symbol: ‚ö†Ô∏è
    # Warme Rosa/Korall-T√∂ne
    farben:
      - "#e86080"
      - "#d44a6a"
      - "#f07898"
      - "#c83a5a"
    felder:
      - bild
      - name
      - essbarkeit
      - verfuegbarkeit
      - verwechslung
      - symptome
      - toxizitaet
      - profil
    # ENTFERNT: morphs-Block - Darstellung aus Datenstruktur
    keywords:
      - giftig
      - gift
      - gef√§hrlich
      - t√∂dlich
      - vergiftung
      - symptom
      - verwechslung
      - warnung
      - vorsicht
      - leber
      - niere
      - halluzination
  
  anbau:
    name: Anbau
    symbol: üå±
    # Frische Gr√ºn/T√ºrkis-T√∂ne
    farben:
      - "#5cc98a"
      - "#4ab078"
      - "#70dda0"
      - "#3a9868"
    felder:
      - bild
      - name
      - standort
      - saison
      - temperatur
      - verfuegbarkeit
      - lebenszyklus
      - ernte_stats
    # ENTFERNT: morphs-Block - Darstellung aus Datenstruktur
    keywords:
      - standort
      - wald
      - wiese
      - substrat
      - temperatur
      - wachsen
      - finden
      - sammeln
      - saison
      - herbst
      - sommer
      - fr√ºhling
      - holz
      - baum
  
  wissenschaft:
    name: Wissenschaft
    symbol: üî¨
    # K√ºhle Blau/Cyan-T√∂ne
    farben:
      - "#5aa0d8"
      - "#4888c0"
      - "#70b8f0"
      - "#3870a8"
    felder:
      - bild
      - name
      - wissenschaftlich
      - wirkstoffe
      - naehrwerte
      - profil
      - ernte_stats
    # ENTFERNT: morphs-Block - Darstellung aus Datenstruktur
    keywords:
      - wissenschaft
      - forschung
      - wirkstoff
      - chemie
      - verbindung
      - molek√ºl
      - studie
      - analyse

  medizin:
    name: Medizin
    symbol: üíä
    # Violett/Lila-T√∂ne
    farben:
      - "#a855f7"
      - "#9333ea"
      - "#c084fc"
      - "#7c3aed"
    felder:
      - bild
      - name
      - wissenschaftlich
      - wirkstoffe
      - medizinisch
      - profil
      - beschreibung
    # ENTFERNT: morphs-Block - Darstellung aus Datenstruktur
    keywords:
      - medizin
      - heilkunde
      - therapie
      - gesundheit
      - heilpilz
      - immunsystem
      - antioxidativ
      - wirkung

  statistik:
    name: Statistik
    symbol: üìä
    # T√ºrkis/Teal-T√∂ne
    farben:
      - "#14b8a6"
      - "#0d9488"
      - "#2dd4bf"
      - "#0f766e"
    felder:
      - bild
      - name
      - bewertung
      - beliebtheit
      - ernte_stats
      - naehrwerte
      - wirkstoffe
      - profil
    # ENTFERNT: morphs-Block - Darstellung aus Datenstruktur
    keywords:
      - statistik
      - daten
      - zahlen
      - vergleich
      - √ºbersicht
      - analyse
      - menge
      - h√§ufigkeit
