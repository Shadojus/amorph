/**
 * ðŸ“¦ BOXPLOT CSS - Box-and-Whisker
 * Universe Biosphere Theme mit Glow-Effekten
 */

.amorph-boxplot {
  /* Container-Styles werden vom Ã¤uÃŸeren Element bereitgestellt */
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.amorph-boxplot-titel {
  font-size: 14px;
  font-weight: 600;
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 0 8px rgba(100, 160, 255, 0.5);
  text-align: center;
}

/* Scale Header */
.amorph-boxplot-scale {
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 8px;
}

.amorph-boxplot-scale-labels {
  display: flex;
  justify-content: space-between;
  font-size: 10px;
  color: rgba(255, 255, 255, 0.5);
}

.amorph-boxplot-scale-label {
  color: rgba(100, 160, 255, 0.7);
  text-transform: uppercase;
  letter-spacing: 1px;
}

.amorph-boxplot-scale-legend {
  display: flex;
  justify-content: center;
  gap: 16px;
  font-size: 10px;
  color: rgba(255, 255, 255, 0.4);
}

.amorph-boxplot-legend-whisker {
  color: rgba(255, 255, 255, 0.5);
}

.amorph-boxplot-legend-q1,
.amorph-boxplot-legend-q3 {
  color: rgba(100, 160, 255, 0.6);
}

.amorph-boxplot-legend-median {
  color: rgba(0, 255, 128, 0.8);
  font-weight: 600;
}

/* Container */
.amorph-boxplot-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Row */
.amorph-boxplot-row {
  display: grid;
  grid-template-columns: 80px 1fr 50px;
  align-items: center;
  gap: 12px;
  min-height: 32px;
}

.amorph-boxplot-label {
  font-size: 12px;
  color: rgba(255, 255, 255, 0.8);
  text-align: right;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Visualisierung */
.amorph-boxplot-viz {
  position: relative;
  height: 24px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

/* Whiskers */
.amorph-boxplot-whisker {
  position: absolute;
  top: 50%;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
  transform: translateY(-50%);
}

.amorph-boxplot-whisker-left {
  left: var(--min-pos);
  width: calc(var(--q1-pos) - var(--min-pos));
}

.amorph-boxplot-whisker-right {
  left: var(--q3-pos);
  width: calc(var(--max-pos) - var(--q3-pos));
}

/* Box (IQR) */
.amorph-boxplot-box {
  position: absolute;
  top: 4px;
  bottom: 4px;
  left: var(--q1-pos);
  width: var(--box-width);
  background: linear-gradient(
    90deg,
    rgba(80, 140, 255, 0.3),
    rgba(100, 180, 255, 0.3)
  );
  border: 1px solid rgba(100, 160, 255, 0.5);
  border-radius: 3px;
  box-shadow: 
    0 0 10px rgba(100, 160, 255, 0.3),
    inset 0 0 8px rgba(100, 160, 255, 0.1);
}

/* Median Linie */
.amorph-boxplot-median {
  position: absolute;
  top: 2px;
  bottom: 2px;
  left: var(--median-pos);
  width: 3px;
  background: rgba(0, 255, 128, 0.9);
  border-radius: 2px;
  transform: translateX(-50%);
  box-shadow: 0 0 8px rgba(0, 255, 128, 0.6);
}

/* Endpunkte */
.amorph-boxplot-endpoint {
  position: absolute;
  top: 50%;
  width: 8px;
  height: 8px;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.4);
}

.amorph-boxplot-min {
  left: var(--min-pos);
  background: rgba(255, 100, 100, 0.8);
  box-shadow: 0 0 6px rgba(255, 100, 100, 0.5);
}

.amorph-boxplot-max {
  left: var(--max-pos);
  background: rgba(100, 255, 100, 0.8);
  box-shadow: 0 0 6px rgba(100, 255, 100, 0.5);
}

/* Mean Punkt */
.amorph-boxplot-mean {
  position: absolute;
  top: 50%;
  width: 6px;
  height: 6px;
  background: rgba(255, 200, 0, 0.9);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 0 6px rgba(255, 200, 0, 0.6);
}

/* Werte */
.amorph-boxplot-values {
  font-size: 11px;
  text-align: right;
}

.amorph-boxplot-val-median {
  color: rgba(0, 255, 128, 0.9);
  font-weight: 600;
  text-shadow: 0 0 4px rgba(0, 255, 128, 0.4);
}

/* Empty State */
.amorph-boxplot-leer {
  color: rgba(255, 255, 255, 0.4);
  font-style: italic;
  text-align: center;
  padding: 20px;
}

/* Hover Effect */
.amorph-boxplot-row:hover .amorph-boxplot-box {
  background: linear-gradient(
    90deg,
    rgba(80, 140, 255, 0.5),
    rgba(100, 180, 255, 0.5)
  );
  box-shadow: 
    0 0 15px rgba(100, 160, 255, 0.5),
    inset 0 0 12px rgba(100, 160, 255, 0.2);
}

.amorph-boxplot-row:hover .amorph-boxplot-label {
  color: rgba(255, 255, 255, 1);
  text-shadow: 0 0 4px rgba(100, 160, 255, 0.4);
}

/* === MOBILE RESPONSIVE === */
@media (max-width: 480px) {
  .amorph-boxplot {
    padding: 12px;
    gap: 10px;
  }
  
  .amorph-boxplot-titel {
    font-size: 13px;
  }
  
  .amorph-boxplot-scale-labels {
    font-size: 10px;
  }
  
  .amorph-boxplot-scale-legend {
    flex-wrap: wrap;
    gap: 8px;
    font-size: 10px;
  }
  
  /* Flexibles Grid statt feste 80px */
  .amorph-boxplot-row {
    grid-template-columns: minmax(40px, 70px) 1fr minmax(35px, 50px);
    gap: 8px;
    min-height: 28px;
  }
  
  .amorph-boxplot-label {
    font-size: 10px;
  }
  
  .amorph-boxplot-viz {
    height: 20px;
  }
  
  .amorph-boxplot-values {
    font-size: 10px;
  }
}

@media (max-width: 320px) {
  .amorph-boxplot-row {
    /* Vertikales Layout bei sehr kleinen Screens */
    display: flex;
    flex-direction: column;
    gap: 4px;
    align-items: stretch;
    padding: 8px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }
  
  .amorph-boxplot-label {
    text-align: left;
  }
  
  .amorph-boxplot-viz {
    width: 100%;
    height: 18px;
  }
  
  .amorph-boxplot-values {
    text-align: left;
  }
  
  .amorph-boxplot-scale-legend {
    display: none;
  }
}
